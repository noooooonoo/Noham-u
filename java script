const API_URL = 'https://mon-backend.onrender.com';

// Création compte
async function register(email, password, role) {
  const res = await fetch(`${API_URL}/register`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email, password, role })
  });
  return res.json();
}

// Connexion
async function login(email, password) {
  const res = await fetch(`${API_URL}/login`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email, password })
  });
  return res.json();
}

// Ajouter entraînement
async function addTraining(token, title, description, exercises) {
  const res = await fetch(`${API_URL}/training`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ token, title, description, exercises })
  });
  return res.json();
}

// Lister entraînements
async function listTrainings() {
  const res = await fetch(`${API_URL}/trainings`);
  return res.json();
}
